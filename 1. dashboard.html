<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <!--<meta name=description content="This site was generated with Anima. www.animaapp.com"/>-->
    <!-- <link rel="shortcut icon" type=image/png href="https://animaproject.s3.amazonaws.com/home/favicon.png" /> -->
    <meta name="viewport" content="width=1440, maximum-scale=1.0" />
    <link rel="shortcut icon" type="image/png" href="https://animaproject.s3.amazonaws.com/home/favicon.png" />
    <meta name="og:type" content="website" />
    <meta name="twitter:card" content="photo" />
    <link rel="stylesheet" type="text/css" href="css/dashboard-ministry-leader-1.css" />
    <link rel="stylesheet" type="text/css" href="css/styleguide.css" />
    <link rel="stylesheet" type="text/css" href="css/globals.css" />
  </head>
  <body style="margin: 0; background: #ffffff">
    <input type="hidden" id="anPageName" name="page" value="dashboard-ministry-leader-1" />
    <div class="dashboard-ministry-leader-1 screen">
      <img class="white-woven-fabric-1" src="img/white-woven-fabric-1-2.png" alt="white-woven-fabric 1" />
      <div class="rectangle-8"></div>
      <div class="rectangle-12"></div>
      <img class="logo-1" src="img/logo-1.png" alt="LOGO 1" />
      <div class="search-for-a-resource manrope-medium-white-22px">Search for a resource...</div>
      <div class="name-1 name-6 manrope-bold-pickled-bluewood-22px">Josie Ziegler</div>
      <div class="rectangle-11"></div>
      <div class="ellipse-15"></div>
      <div class="dashboard manrope-bold-white-18px">Dashboard</div>
      <div class="current-series manrope-bold-white-18px">Current Series</div>
      <div class="most-visited-screens manrope-bold-white-18px">Most Visited Screens</div>
      <div class="analytics-overview manrope-bold-white-18px">Analytics Overview</div>
      <div class="power-users-top-10 manrope-bold-white-18px">Power Users (Top 10%)</div>
      <div class="group-99">
        <div class="dashboard-1 manrope-extra-bold-pickled-bluewood-22px">Dashboard</div>
        <div class="group-99-item manrope-bold-pickled-bluewood-22px">Series</div>
        <div class="group-99-item manrope-bold-pickled-bluewood-22px">Members</div>
        <div class="notifications manrope-bold-pickled-bluewood-22px">Notifications</div>
        <div class="settings manrope-bold-pickled-bluewood-22px">Settings</div>
        <div class="logout manrope-bold-pickled-bluewood-22px">Logout</div>
      </div>
      <div class="group-33"></div>
      <div class="group-98">
        <div class="rectangle-23"></div>
        <div class="mission-point-christian-church">Mission Point Christian Church</div>
        <h1 class="number-2 number-7 manrope-bold-white-48px">333</h1>
        <div class="number-3 number-7 manrope-bold-white-48px">304</div>
        <div class="number-4 number-7 manrope-bold-white-48px">8</div>
        <div class="number-5 number-7 manrope-bold-white-48px">34</div>
        <div class="sat manrope-bold-white-48px">SAT</div>
        <div class="total-users manrope-bold-white-16px">Total Users</div>
        <div class="monthly-active-users manrope-bold-white-16px">Monthly Active Users</div>
        <div class="new-users manrope-bold-white-16px">New Users</div>
        <div class="ministry-leaders ministry manrope-bold-white-16px">Ministry Leaders</div>
        <div class="ministry-code ministry manrope-bold-white-16px">Ministry Code</div>
      </div>
      <div class="group-80"></div>
      <div class="rectangle-23-1 rectangle-23-3"></div>
      <div class="surname manrope-bold-pickled-bluewood-16px">Good Morning, Josie!</div>
      <div class="ministry-leader ministry">Ministry Leader</div>
      <div class="group-100">
        <div class="layer_1">
          <div class="gnwuq5">
            <div class="group">
              <img class="vector" src="img/vector.svg" alt="Vector" />
              <img class="vector-1" src="img/vector-7.svg" alt="Vector" />
            </div>
          </div>
        </div>
        <img class="layer_1-1" src="img/layer-1-2.svg" alt="Layer_1" />
        <div class="group-69">
          <img class="vector-2" src="img/vector-8.svg" alt="Vector" />
          <img class="vector-3" src="img/vector-9.svg" alt="Vector" />
          <img class="vector-4" src="img/vector-10.svg" alt="Vector" />
          <img class="vector-5" src="img/vector-11.svg" alt="Vector" />
        </div>
        <div class="group-31">
          <img class="bell" src="img/bell-2.svg" alt="Bell" />
          <div class="ellipse-14"></div>
        </div>
        <img class="g-ic55z" src="img/gic55z@2x.png" alt="gIC55z" />
      </div>
      <div class="ellipse-16"></div>
      <div class="group-72">
        <div class="rectangle-23-2 rectangle-23-3"></div>
        <div class="star"><img class="icon" src="img/icon.svg" alt="Icon" /></div>
        <button class="episodes-0-4 manrope-bold-pickled-bluewood-16px">Ep 4. The Story of Our Faith</button>
      </div>
      <div class="group-81"></div>
      <img
        class="you-tube_-playlist_-thumbnails-01"
        src="img/youtube-playlist-thumbnails-01-1@2x.png"
        alt="YouTube_Playlist_Thumbnails-01"
      />
      <div class="text-1 text-3 manrope-bold-pickled-bluewood-38px">1,976</div>
      <div class="percent manrope-bold-pickled-bluewood-38px">64%</div>
      <div class="percent-1 manrope-bold-pickled-bluewood-38px">12%</div>
      <div class="text-2 text-3 manrope-bold-pickled-bluewood-38px">14:56</div>
      <div class="group-90">
        <div class="ellipse-17"></div>
        <div class="text">+</div>
      </div>
      <div class="group-93">
        <div class="ellipse-17"></div>
        <div class="text">+</div>
      </div>
      <div class="total-sessions-per-month manrope-bold-pickled-bluewood-16px">Total Sessions <br />Per Month</div>
      <div class="bounce-rate-active-5min manrope-bold-pickled-bluewood-16px">Bounce Rate<br />(Active &lt; 5min)</div>
      <div class="group-92 manrope-bold-pickled-bluewood-16px">
        <div class="group-8">
          <div class="name-2 name-6">Eleanor Rodriguez</div>
          <div class="name">Joe Cole</div>
          <div class="number">29</div>
          <div class="number-1 number-7">28</div>
        </div>
        <div class="group-8-1">
          <div class="tish-punjabi">Tish Punjabi</div>
          <div class="name">Beth Pocta</div>
          <div class="number">29</div>
          <div class="number-1 number-7">28</div>
        </div>
        <div class="group-8-1">
          <div class="name-3 name-6">Tom Ziegler</div>
          <div class="name">Laura Aguilar</div>
          <div class="number">29</div>
          <div class="number-1 number-7">28</div>
        </div>
        <div class="group-8">
          <div class="name-4 name-6">Eleanor Rodriguez</div>
          <div class="name">Joe Cole</div>
          <div class="number">29</div>
          <div class="number-1 number-7">28</div>
        </div>
        <div class="group-89 manrope-bold-pickled-bluewood-16px">
          <div class="name-5 name-6">Angie Schmit</div>
          <div class="number-6 number-7">29</div>
        </div>
      </div>
      <div class="surname-1 manrope-bold-pickled-bluewood-16px">Church Rate<br />(% Non-Active Users)</div>
      <div class="average-session-length manrope-bold-pickled-bluewood-16px">Average <br />Session Length</div>
      <div class="group-84">
        <div class="rectangle-24"></div>
        <div class="send-push-notification manrope-bold-white-16px">Send Push Notification</div>
        <div class="group-82">
          <img class="bell" src="img/bell-3.svg" alt="Bell" />
          <div class="ellipse-14"></div>
        </div>
      </div>
      <div class="place">Name</div>
      <div class="visitsmo">Visits/mo</div>
      <img class="line-24" src="img/line-24.svg" alt="Line 24" />
      <img class="line-26" src="img/line-26.svg" alt="Line 26" />
      <img class="line-25" src="img/line-25.svg" alt="Line 25" />
      <div class="group-94"></div>
      <div class="group-96"></div>
      <div class="group-97"></div>
      <img class="img_1671" src="img/img-1671@2x.png" alt="IMG_1671" />
      <img class="img_1672" src="img/img-1672@2x.png" alt="IMG_1672" />
      <img class="profile-1 profile" src="img/profile-1@2x.png" alt="Profile 1" />
      <img class="profile-2 profile" src="img/profile-2@2x.png" alt="Profile 2" />
      <img class="line-27" src="img/line-27-2.svg" alt="Line 27" />
      <img class="img_1670" src="img/img-1670@2x.png" alt="IMG_1670" />
    </div>

    <!-- Choose Week Modal -->
    <div id="chooseWeekModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2 class="modal-title">Choose Week</h2>
        <p class="modal-help-text">Choose the week that all members of your group sees when they first open their Thread App.</p>

        <div class="series-dropdown-container">
          <label for="seriesSearch" class="dropdown-label">Select Series:</label>
          <div class="custom-dropdown">
            <input
              type="text"
              id="seriesSearch"
              class="series-search-input"
              value="Starting Point (0-4)"
              autocomplete="off"
            />
            <div class="dropdown-list" id="dropdownList">
              <div class="dropdown-section-label">Thread Series</div>
              <div class="dropdown-item" data-value="0-4">Starting Point (0-4)</div>
              <div class="dropdown-item" data-value="5-11">God's World Created (5-11)</div>
              <div class="dropdown-item" data-value="12-19">God's People Birthed (12-19)</div>
              <div class="dropdown-item" data-value="20-26">God's Nation Formed (20-26)</div>
              <div class="dropdown-item" data-value="27-30">God's Land Established (27-30)</div>
              <div class="dropdown-item" data-value="31-35">God's People Blessed (31-35)</div>
              <div class="dropdown-item" data-value="36-41">God's People Divided (36-41)</div>
              <div class="dropdown-item" data-value="42-46">God's People Returned (42-46)</div>
              <div class="dropdown-item" data-value="47">God's People Waited (47)</div>
              <div class="dropdown-item" data-value="48-55">Matthew (48-55)</div>
              <div class="dropdown-item" data-value="56-60">Mark (56-60)</div>

              <div class="dropdown-section-label">My Church Series</div>
              <div class="dropdown-item" data-value="places-prayer">Places of Prayer: Devotionals</div>
              <div class="dropdown-item" data-value="lords-prayer-retreat">Lord's Prayer Personal Retreat</div>
              <div class="dropdown-item" data-value="practicing-lords-prayer">Practicing the Lord's Prayer</div>
              <div class="dropdown-item" data-value="treasuring-god">Treasuring God</div>
              <div class="dropdown-item" data-value="wise-men">Wise Men Say</div>
            </div>
          </div>
        </div>

        <!-- Episode Selection Cards -->
        <div class="episodes-container" id="episodesContainer"></div>

        <!-- Save Button -->
        <button class="modal-save-btn" id="saveBtn">Save</button>
      </div>
    </div>

    <script>
      // Change Episodes 0-4 button text on hover
      const group72 = document.querySelector('.group-72');
      const seriesImage = document.querySelector('.you-tube_-playlist_-thumbnails-01');
      const episodesBtn = document.querySelector('.episodes-0-4');
      const starIcon = document.querySelector('.star');
      var originalText = episodesBtn.textContent;
      const hoverText = 'Choose Week';

      function showChooseWeek() {
        episodesBtn.textContent = hoverText;
        episodesBtn.classList.add('active-hover');
      }

      function showEpisodes() {
        episodesBtn.textContent = originalText;
        episodesBtn.classList.remove('active-hover');
      }

      group72.addEventListener('mouseenter', showChooseWeek);
      group72.addEventListener('mouseleave', showEpisodes);
      seriesImage.addEventListener('mouseenter', showChooseWeek);
      seriesImage.addEventListener('mouseleave', showEpisodes);

      // Episode data for each series
      const seriesEpisodes = {
        '0-4': [
          '0. Welcome to Thread',
          '1. Our Image of God',
          '2. Why Story?',
          '3. Why Spirituality?',
          '4. The Story of Our Faith'
        ],
        '5-11': [
          '5. Creation & Beauty',
          '6. Seasons & Rhythms',
          '7. Light & Darkness',
          '8. Becoming Fully Human',
          '9. Human Limitations',
          '10. The Flood',
          '11. Babel'
        ],
        '12-19': [
          '12. Abraham',
          '13. Abraham: Covenant',
          '14. Sarah & Hagar',
          '15. Jacob',
          '16. Jacob\'s Wrestling Match',
          '17. Joseph & Judah',
          '18. Moses in Egypt',
          '19. Moses in Wilderness'
        ],
        '20-26': [
          '20. The Sign',
          '21. The Exodus',
          '22. The Wilderness',
          '23. The Presence',
          '24. Law & Priesthood',
          '25. The Tabernacle',
          '26. The Culture'
        ],
        '27-30': [
          '27. Promised Land',
          '28. Joshua',
          '29. Judges',
          '30. Ruth'
        ],
        '31-35': [
          '31. Hannah & Samuel',
          '32. King Saul',
          '33. David & Jonathan',
          '34. King David',
          '35. King Solomon'
        ],
        '36-41': [
          '36. Israel\'s Kings',
          '37. Israel\'s Prophets',
          '38. Judah\'s King\'s',
          '39. Judah\'s Prophets',
          '40. Exile',
          '41. Jerusalem\'s Fall'
        ],
        '42-46': [
          '42. Life in Exile',
          '43. Exilic Prophets',
          '44. Rebuilding the Temple',
          '45. Esther',
          '46. Rebuilding the Wall'
        ],
        '47': [
          '47. God\'s People Waited'
        ],
        '48-55': [
          '48. The Jewish Jesus',
          '49. The Teacher Jesus',
          '50. The Ministry of Jesus',
          '51. Parables of the Kingdom',
          '52. The Messiah Jesus',
          '53. The Community of Jesus',
          '54. The Judgment of Jesus',
          '55. The Triumph of Jesus'
        ],
        '56-60': [
          '56. Exodus (Mark pt. 1)',
          '57. Crowds (Mark pt. 2)',
          '58. Battles (Mark pt. 3)',
          '59. Calling (Mark pt. 4)',
          '60. Grace (Mark pt. 5)',
        ]
        // Add episodes for My Church Series as needed
      };

      // Mapping of series values to their display names
      const seriesNames = {
        '0-4': 'Starting Point (0-4)',
        '5-11': 'God\'s World Created (5-11)',
        '12-19': 'God\'s People Birthed (12-19)',
        '20-26': 'God\'s Nation Formed (20-26)',
        '27-30': 'God\'s Land Established (27-30)',
        '31-35': 'God\'s People Blessed (31-35)',
        '36-41': 'God\'s People Divided (36-41)',
        '42-46': 'God\'s People Returned (42-46)',
        '47': 'God\'s People Waited (47)',
        '48-55': 'Matthew (48-55)',
        '56-60': 'Mark (56-60)'
      };

      // Mapping of series values to their thumbnail images
      const seriesImages = {
        '0-4': 'img/youtube-playlist-thumbnails-01.png',
        '5-11': 'img/youtube-playlist-thumbnails-02.png',
        '12-19': 'img/youtube-playlist-thumbnails-03.png',
        '20-26': 'img/youtube-playlist-thumbnails-04.png',
        '27-30': 'img/youtube-playlist-thumbnails-05.png',
        '31-35': 'img/youtube-playlist-thumbnails-06.png',
        '36-41': 'img/youtube-playlist-thumbnails-07.png',
        '42-46': 'img/youtube-playlist-thumbnails-1.png',
        '47': 'img/screenshot-2025-10-22-at-9-21-40-pm-1.png',
        '48-55': 'img/screenshot-2025-06-30-at-2-39-05-pm-1@2x.png',
        '56-60': 'img/screenshot-2025-10-22-at-6-12-01-pm-1@2x.png'
      };

      // Function to determine which series an episode number belongs to
      function getSeriesForEpisode(episodeNumber) {
        const num = parseInt(episodeNumber);
        if (num >= 0 && num <= 4) return '0-4';
        if (num >= 5 && num <= 11) return '5-11';
        if (num >= 12 && num <= 19) return '12-19';
        if (num >= 20 && num <= 26) return '20-26';
        if (num >= 27 && num <= 30) return '27-30';
        if (num >= 31 && num <= 35) return '31-35';
        if (num >= 36 && num <= 41) return '36-41';
        if (num >= 42 && num <= 46) return '42-46';
        if (num === 47) return '47';
        if (num >= 48 && num <= 55) return '48-55';
        if (num >= 56 && num <= 60) return '56-60';
        return '0-4'; // Default fallback
      }

      let selectedEpisode = null;
      const episodesContainer = document.getElementById('episodesContainer');
      const saveBtn = document.getElementById('saveBtn');
      const seriesImageElement = document.querySelector('.you-tube_-playlist_-thumbnails-01');

      // Function to populate episodes for selected series
      function populateEpisodes(seriesValue) {
        episodesContainer.innerHTML = '';
        selectedEpisode = null;

        const episodes = seriesEpisodes[seriesValue];
        if (!episodes) {
          return;
        }

        // Get current episode from button text (remove "Ep " prefix)
        const currentButtonText = originalText.replace(/^Ep\s+/, '');

        episodes.forEach(function(episode) {
          const card = document.createElement('div');
          card.className = 'episode-card';
          card.textContent = episode;

          // Check if this episode matches the current button text
          if (episode === currentButtonText) {
            card.classList.add('selected');
            selectedEpisode = episode;
          }

          card.addEventListener('click', function() {
            // Remove selected class from all cards
            document.querySelectorAll('.episode-card').forEach(function(c) {
              c.classList.remove('selected');
            });
            // Add selected class to clicked card
            this.classList.add('selected');
            selectedEpisode = episode;
          });
          episodesContainer.appendChild(card);
        });
      }

      // Modal functionality
      const modal = document.getElementById('chooseWeekModal');
      const closeBtn = document.querySelector('.close');

      // Function to open modal
      function openModal() {
        modal.style.display = 'block';

        // Extract episode number from current button text
        const currentText = originalText.replace(/^Ep\s+/, '');
        const episodeNumberMatch = currentText.match(/^(\d+)\./);

        let seriesValue = '0-4'; // Default
        if (episodeNumberMatch) {
          const episodeNumber = episodeNumberMatch[1];
          seriesValue = getSeriesForEpisode(episodeNumber);
        }

        // Update dropdown to show the correct series
        searchInput.value = seriesNames[seriesValue];

        // Populate episodes for the current series
        populateEpisodes(seriesValue);
      }

      // Open modal when button is clicked
      episodesBtn.addEventListener('click', openModal);

      // Open modal when star is clicked
      starIcon.addEventListener('click', openModal);

      // Close modal when X is clicked
      closeBtn.addEventListener('click', function() {
        modal.style.display = 'none';
      });

      // Close modal when clicking outside of it
      window.addEventListener('click', function(event) {
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      });

      // Searchable dropdown functionality
      const searchInput = document.getElementById('seriesSearch');
      const dropdownList = document.getElementById('dropdownList');
      const dropdownItems = document.querySelectorAll('.dropdown-item');
      const sectionLabels = document.querySelectorAll('.dropdown-section-label');

      // Show dropdown when input is focused
      searchInput.addEventListener('focus', function() {
        dropdownList.style.display = 'block';
      });

      // Filter dropdown items based on search
      searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        let hasVisibleItems = false;

        dropdownItems.forEach(function(item) {
          const text = item.textContent.toLowerCase();
          if (text.includes(searchTerm)) {
            item.style.display = 'block';
            hasVisibleItems = true;
          } else {
            item.style.display = 'none';
          }
        });

        // Show/hide section labels based on whether they have visible items
        sectionLabels.forEach(function(label) {
          let nextElement = label.nextElementSibling;
          let hasVisibleInSection = false;

          while (nextElement && !nextElement.classList.contains('dropdown-section-label')) {
            if (nextElement.classList.contains('dropdown-item') && nextElement.style.display !== 'none') {
              hasVisibleInSection = true;
              break;
            }
            nextElement = nextElement.nextElementSibling;
          }

          label.style.display = hasVisibleInSection ? 'block' : 'none';
        });
      });

      // Handle series selection
      dropdownItems.forEach(function(item) {
        item.addEventListener('click', function() {
          const selectedValue = this.getAttribute('data-value');
          const selectedText = this.textContent;
          searchInput.value = selectedText;
          dropdownList.style.display = 'none';
          populateEpisodes(selectedValue);
        });
      });

      // Function to measure text width
      function measureTextWidth(text, element) {
        const canvas = document.createElement('canvas');
        const context = canvas.getContext('2d');
        const computedStyle = window.getComputedStyle(element);
        context.font = computedStyle.font;
        return context.measureText(text).width;
      }

      // Save button handler
      saveBtn.addEventListener('click', function() {
        if (selectedEpisode) {
          console.log('Saved episode:', selectedEpisode);

          // Update the button text with the selected episode
          const newText = 'Ep ' + selectedEpisode;
          episodesBtn.textContent = newText;
          originalText = episodesBtn.textContent; // Update original text

          // Measure widths of both texts
          const episodeTextWidth = measureTextWidth(newText, episodesBtn);
          const hoverTextWidth = measureTextWidth(hoverText, episodesBtn);

          // Set min-width to the larger of the two (plus padding)
          const maxWidth = Math.max(episodeTextWidth, hoverTextWidth);
          const minWidth = Math.ceil(maxWidth + 16); // Add 16px for padding (8px on each side)
          episodesBtn.style.minWidth = minWidth + 'px';

          // Update the series image
          const episodeNumberMatch = selectedEpisode.match(/^(\d+)\./);
          if (episodeNumberMatch) {
            const episodeNumber = episodeNumberMatch[1];
            const seriesValue = getSeriesForEpisode(episodeNumber);
            const newImageSrc = seriesImages[seriesValue];
            if (newImageSrc && seriesImageElement) {
              seriesImageElement.src = newImageSrc;
            }
          }

          modal.style.display = 'none';
        } else {
          alert('Please select an episode first');
        }
      });

      // Close dropdown when clicking outside
      document.addEventListener('click', function(event) {
        if (!event.target.closest('.custom-dropdown')) {
          dropdownList.style.display = 'none';
        }
      });
    </script>
  </body>
</html>
